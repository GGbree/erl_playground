{erl_opts, [
    {i, "_build/default/lib"},
    {i, "_build/default/lib/gpb/include"},
    {parse_transform, lager_transform},
    {vsn_command, "git describe --tags"},
    debug_info,
    warn_export_all,
    warn_export_vars,
    warn_obsolete_guard,
    warn_shadow_vars,
    warn_unused_import,
    {platform_define, "^1[89]", post17},
    {platform_define, "^2", post17}
]}.

{provider_hooks, [
    {pre, [
        {compile, {protobuf, compile}},
        {clean, {protobuf, clean}}
    ]}
]}.

{gpb_opts, [{i, "proto"},
            {module_name_suffix, "_pb"},
            {o_erl, "src"},
            {o_hrl, "include"},
            {strings_as_binaries, true},
            type_specs,
            {verify, always}]}.